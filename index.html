<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link rel="stylesheet" href="styles.css">
      
      <title>Drum Machine</title>

      <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

      <script>
         function play(str) {

               if (str === "q" || str === "Q") {
               document.getElementById('text-box').innerText = "Sample on 1st Beat";
            } else if (str === "w" || str === "W") {
               document.getElementById('text-box').innerText = "Sample on 2nd Beat";
            } else if (str === "e" || str === "E") {
               document.getElementById('text-box').innerText = "KickHat";
            } else if (str === "a" || str === "A") {
               document.getElementById('text-box').innerText = "Sample on 3rd Beat";
            } else if (str === "s" || str === "S") {
               document.getElementById('text-box').innerText = "Clap";
            } else if (str === "d" || str === "D") {
               document.getElementById('text-box').innerText = "Kick";
            } else if (str === "z" || str === "Z") {
               document.getElementById('text-box').innerText = "Sample on 4th Beat";
            } else if (str === "x" || str === "X") {
               document.getElementById('text-box').innerText = "OpenHat";
            } else if (str === "c" || str === "C") {
               document.getElementById('text-box').innerText = "HiHat"
            }

            let audio = document.getElementById(str)
            audio.play()

         } 

         document.addEventListener('keypress', e => {
            let bank = [
               {keyCode: 81, string: 'Q'},
               {keyCode: 87, string: 'W'},
               {keyCode: 69, string: 'E'},
               {keyCode: 65, string: 'A'},
               {keyCode: 83, string: 'S'},
               {keyCode: 68, string: 'D'},
               {keyCode: 90, string: 'Z'},
               {keyCode: 88, string: 'X'},
               {keyCode: 67, string: 'C'},
               {keyCode: 113, string: 'Q'},
               {keyCode: 119, string: 'W'},
               {keyCode: 101, string: 'E'},
               {keyCode: 97, string: 'A'},
               {keyCode: 115, string: 'S'},
               {keyCode: 100, string: 'D'},
               {keyCode: 122, string: 'Z'},
               {keyCode: 120, string: 'X'},
               {keyCode: 99, string: 'C'},     
            ] 

            for (let i = 0; i < bank.length; i += 1) {
               let key = e.keyCode
               let bankString = bank[i];

               if (key === bankString.keyCode) {
                  let string = bankString.string;
                  let playSound = document.getElementById(string);
                  console.log(playSound.play());
               };
            };
         });
      </script>

      <script>      
      document.addEventListener('DOMContentLoaded', () => {
         document.querySelectorAll("input[type=range]").forEach(slider => {
           slider.addEventListener('input', e => {
             progressBar = document.querySelector("progress");
             progressBar.value = e.target.value;
             sliderValue = document.querySelector("span")
             sliderValue.innerHTML = Math.round(e.target.value);
             let domConverter = Math.round(e.target.value) / 100
             const volume = document.querySelector("audio").volume;
             document.querySelector("audio").volume = domConverter;       
           })
         })
       })
      </script>
  </head>
  <body>
   <div id="drum-machine">

      <div id="display" class="container">
         <div id="panel-container" class="row">
            
            <div id="pad" class="col-8 d-flex justify-content-center">
               <div class="row">

                  <div class="col-4 text-center ">
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('Q')" id="drum-0">
                           <audio id="Q" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3" class="clip"></audio>
                           Q
                        </button>
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('A')" id="drum-3">
                           <audio id="A" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3" class="clip"></audio>
                           A
                        </button>
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('Z')" id="drum-6">
                           <audio id="Z" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3" class="clip"></audio>
                           Z
                        </button>                  
                     </div>
                  </div>
                  
                  
                  <div class="col-4 text-center">
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('W')" id="drum-1">
                           <audio id="W" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3" class="clip"></audio>
                           W
                        </button>                  
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('S')" id="drum-4">
                           <audio id="S" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3" class="clip"></audio>
                           S
                        </button>                  
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('X')" id="drum-7">
                           <audio id="X" src="https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3" class="clip"></audio>
                           X
                        </button>                  
                     </div>
                  </div>

                  
                  <div class="col-4 text-center">
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('E')" id="drum-2">
                           <audio id="E" src="https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3" class="clip"></audio>
                           E
                        </button>
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('D')" id="drum-5">
                           <audio id="D" src="https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3" class="clip"></audio>
                           D
                        </button>
                     </div>
                     <div class="row">
                        <button class="drum-pad btn-block btn" onClick="play('C')" id="drum-8">
                           <audio id="C" src="https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3" class="clip"></audio>
                           C
                        </button>
                     </div>
                  </div>

               </div>
            </div>

            <div id="display-area" class="col-4">

               <div class="row">  
                  <div class="logo-case row-block">                
                     <img id="akia-logo" src="https://i.ibb.co/n0hSLFt/akia-Logo.png" alt="akia-Logo" border="0">
                  </div>
                  
                  <div id="display-screen" class="row-block">
                     <div id="text-box" class="text-box"></div>
                  </div>

                  <div id="slider-container" class="row-block">

                     <div class="slider-box">
                        <input id="range" type="range" min="0" max="100" step="0.01" value="50">
                        <progress min="0" max="100" value="50"></progress>  
                     </div>                                          
                     <span id="value">50</span> 
                    
                  </div>
            </div>
            
         </div>

      </div>
   </div>
  </body>
</html>